<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>for you, princess pihu</title>

<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: Georgia, serif;
  overflow: hidden;
  color: #ecfdf3;
}

/* ================= SCENES ================= */
.scene {
  position: absolute;
  inset: 0;
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  text-align: center;
  padding: 30px;
}

.scene.active {
  display: flex;
}

/* ================= TOP BACK BUTTON ================= */
.top-back {
  position: absolute;
  top: 20px;
  left: 20px;
}

/* Music control */
.music-control {
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 20px;
}

/* ================= SCENE 1 ================= */
#scene1 {
  background: linear-gradient(to bottom, #2f3e46, #52796f);
}

.glow {
  font-size: 42px;
  text-shadow: 0 0 18px rgba(255,220,150,.8);
}

.subtitle {
  opacity: 0.85;
  margin-bottom: 30px;
}

/* Flowers */
.petal {
  position: absolute;
  top: -10vh;
  font-size: 18px;
  opacity: 0.8;
  animation: petalFall linear infinite;
  pointer-events: none;
}

@keyframes petalFall {
  to { transform: translateY(120vh) rotate(360deg); }
}

/* ================= SCENE 2 ================= */
#scene2 {
  background: linear-gradient(to bottom, #0b132b, #1c2541);
}

/* Stars */
.star {
  position: absolute;
  font-size: 12px;
  color: #fff;
  opacity: 0.8;
  animation: twinkle 3s ease-in-out infinite;
  pointer-events: none;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.3); }
}

/* Moon */
.moon {
  position: absolute;
  top: 40px;
  right: 50px;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff, #ddd);
  box-shadow: 0 0 40px rgba(255,255,255,.6);
}

/* Text */
#typewriter {
  max-width: 600px;
  font-size: 18px;
  line-height: 1.8;
  white-space: pre-line;
  margin-bottom: 25px;
}

/* ================= SCENE 3 ================= */
#scene3 {
  background-image: url("rainforest.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* ================= SCENE 4 ================= */
#scene4 {
  background-image: url("bookpage.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-blend-mode: multiply;
}

/* Book page text */
.book-text {
  max-width: 700px;
  font-family: 'Palatino Linotype', 'Book Antiqua', Palatino, serif;
  font-size: 20px;
  line-height: 1.7;
  background: rgba(255,255,255,0.92);
  padding: 40px;
  border-radius: 15px;
  border-left: 6px solid rgba(139,69,19,0.8);
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  text-align: left;
  color: #2c1810;
  backdrop-filter: blur(5px);
}

/* Bird */
.bird {
  font-size: 56px;
  animation: blink 4s infinite;
  margin-bottom: 20px;
}

@keyframes blink {
  0%, 92%, 100% { transform: scaleY(1); }
  94% { transform: scaleY(0.1); }
}

.final-text {
  font-size: 24px;
  margin-top: 20px;
  color: #eafff2;
}

/* ================= RAIN ================= */
.rain {
  position: absolute;
  top: -20px;
  width: 2px;
  height: 18px;
  background: rgba(200,255,230,0.45);
  animation: rain 2s linear infinite;
  pointer-events: none;
}

@keyframes rain {
  to { transform: translateY(120vh); }
}

/* ================= BUTTONS ================= */
button {
  padding: 10px 24px;
  border-radius: 30px;
  border: 1px solid rgba(255,255,255,.4);
  background: transparent;
  color: white;
  cursor: pointer;
  font-size: 15px;
  transition: .3s;
}

button:hover {
  background: rgba(255,255,255,.15);
}

.hidden {
  display: none;
}

.bottom-btn {
  margin-top: 35px;
}
</style>
</head>

<body>
<!-- BACKGROUND MUSIC - PLAYS THROUGHOUT -->
<audio id="bgMusic" loop preload="auto">
  <source src="music.mp3" type="audio/mpeg">
</audio>

<!-- MUSIC CONTROL BUTTON -->
<button id="musicToggle" class="music-control" onclick="toggleMusic()" title="Toggle music">üéµ</button>

<!-- SCENE 1 -->
<div id="scene1" class="scene active">
  <button class="top-back hidden" onclick="goToScene1()">&larr; back</button>

  <h1 class="glow">for you, princess pihu</h1>
  <div class="subtitle">something gentle, just for you</div>
  <button onclick="goToScene2()">next ‚Üí</button>
</div>

<!-- SCENE 2 -->
<div id="scene2" class="scene">
  <button class="top-back" onclick="backToScene1()">&larr; back</button>

  <div class="moon"></div>

  <p id="typewriter"></p>

  <button id="nextAfterText" class="hidden" onclick="goToScene3()">next ‚Üí</button>
</div>

<!-- SCENE 3 -->
<div id="scene3" class="scene">
  <button class="top-back" onclick="backToScene2()">&larr; back</button>

  <div class="bird">üê¶</div>

  <div class="final-text">
    Thank you for protecting and loving us everyday  
    <br>~ birbs
  </div>

  <button class="bottom-btn" onclick="goToScene4()">next ‚Üí</button>
</div>

<!-- SCENE 4 -->
<div id="scene4" class="scene">
  <button class="top-back" onclick="backToScene3()">&larr; back</button>

  <div class="book-text">
    Thankyou for spawning this year and making my year filled with good memories, all moments with you are memorable for me and cherish them every single day just hoping and wanting to be next to you so i can spend more time, i wanna continue loving you in year 2026 as well for you, ofc no force for you, be yourself, you matter, you are the boss queen
  </div>

  <button class="bottom-btn" onclick="goToScene1()">next ‚Üí</button>
</div>

<script>
/* MUSIC CONTROL */
const bgMusic = document.getElementById("bgMusic");
const musicToggle = document.getElementById("musicToggle");
let musicPlaying = false;

function toggleMusic() {
  if (musicPlaying) {
    bgMusic.pause();
    musicToggle.textContent = "üîá";
    musicPlaying = false;
  } else {
    bgMusic.play().catch(e => console.log("Autoplay blocked:", e));
    musicToggle.textContent = "üéµ";
    musicPlaying = true;
  }
}

// Start music when user first interacts (fixes autoplay policy)
document.addEventListener('click', function startMusicOnInteract() {
  if (!musicPlaying) {
    bgMusic.play().catch(e => console.log("Autoplay blocked:", e));
    musicToggle.textContent = "üéµ";
    musicPlaying = true;
  }
  document.removeEventListener('click', startMusicOnInteract);
}, { once: true });

/* FLOWERS */
const flowers = ["üå∏","üå∫","üçÉ"];
for (let i = 0; i < 25; i++) {
  const petal = document.createElement("div");
  petal.className = "petal";
  petal.textContent = flowers[Math.floor(Math.random() * flowers.length)];
  petal.style.left = Math.random() * 100 + "vw";
  petal.style.animationDuration = 8 + Math.random() * 10 + "s";
  petal.style.fontSize = 16 + Math.random() * 14 + "px";
  document.getElementById("scene1").appendChild(petal);
}

/* RAIN (exists in both scene 2 & 3) */
document.querySelectorAll("#scene2, #scene3").forEach(scene => {
  for (let i = 0; i < 80; i++) {
    const drop = document.createElement("div");
    drop.className = "rain";
    drop.style.left = Math.random() * 100 + "vw";
    drop.style.animationDuration = 1.5 + Math.random() * 2 + "s";
    scene.appendChild(drop);
  }
});

/* STARS - ONLY FOR SCENE 2 */
for (let i = 0; i < 60; i++) {
  const star = document.createElement("div");
  star.className = "star";
  star.textContent = "‚ú®";
  star.style.left = Math.random() * 100 + "vw";
  star.style.top = Math.random() * 40 + "vh";
  star.style.animationDelay = Math.random() * 3 + "s";
  star.style.animationDuration = (2 + Math.random() * 3) + "s";
  document.getElementById("scene2").appendChild(star);
}

/* TEXT */
const lines = [
  "Why I chose to continue loving you?",
  "",
  "Because you are not replaceable, princess.",
  "Not because you try to be perfect ‚Äî",
  "but because of who you are.",
  "",
  "You're adorable in the way you feel things deeply,",
  "and strong in the way you keep going anyway.",
  "",
  "That's why I chose to love you ‚Äî",
  "for your softness,",
  "and for your strength."
];

let lineIndex = 0;
let charIndex = 0;
let typingStarted = false;

function goToScene1() {
  document.getElementById("typewriter").textContent = "";
  lineIndex = 0;
  charIndex = 0;
  typingStarted = false;
  document.getElementById("nextAfterText").classList.add("hidden");
  
  document.querySelectorAll(".scene").forEach(scene => scene.classList.remove("active"));
  document.getElementById("scene1").classList.add("active");
}

function goToScene2() {
  document.querySelectorAll(".scene").forEach(scene => scene.classList.remove("active"));
  document.getElementById("scene2").classList.add("active");

  if (!typingStarted) {
    typingStarted = true;
    typeLine();
  }
}

function goToScene3() {
  document.querySelectorAll(".scene").forEach(scene => scene.classList.remove("active"));
  document.getElementById("scene3").classList.add("active");
}

function goToScene4() {
  document.querySelectorAll(".scene").forEach(scene => scene.classList.remove("active"));
  document.getElementById("scene4").classList.add("active");
}

function backToScene1() {
  goToScene1();
}

function backToScene2() {
  document.querySelectorAll(".scene").forEach(scene => scene.classList.remove("active"));
  document.getElementById("scene2").classList.add("active");
}

function backToScene3() {
  document.querySelectorAll(".scene").forEach(scene => scene.classList.remove("active"));
  document.getElementById("scene3").classList.add("active");
}

function typeLine() {
  if (lineIndex >= lines.length) {
    document.getElementById("nextAfterText").classList.remove("hidden");
    return;
  }

  const el = document.getElementById("typewriter");

  if (charIndex < lines[lineIndex].length) {
    el.textContent += lines[lineIndex][charIndex++];
    setTimeout(typeLine, 40);
  } else {
    el.textContent += "\n";
    charIndex = 0;
    lineIndex++;
    setTimeout(typeLine, 400);
  }
}
</script>

</body>
</html>
