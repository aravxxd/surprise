<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>for you, princess pihu</title>

<style>
/* ================= BASE ================= */
body {
  margin: 0;
  min-height: 100vh;
  overflow-x: hidden;
  overflow-y: auto;
  font-family: "Georgia", serif;
  background: linear-gradient(to bottom, #2f3e46, #354f52, #52796f, #84a98c);
  display: flex;
  justify-content: center;
  text-align: center;
  color: #ecfdf3;
  transition: background 3s ease;
}

/* Night overlay */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: linear-gradient(to bottom, #0f172a, #111827, #020617);
  opacity: 0;
  pointer-events: none;
  transition: opacity 3s ease;
  z-index: 0;
}

body.night::before {
  opacity: 1;
}

/* ================= CONTENT ================= */
.content {
  position: relative;
  z-index: 20;
  max-width: 520px;
  padding: 40px 20px 80px;
}

/* ================= TITLE ================= */
.glow {
  color: #fff7e6;
  text-shadow:
    0 0 4px rgba(255,220,170,.6),
    0 0 10px rgba(255,200,140,.4),
    0 0 18px rgba(255,180,120,.25);
  animation: candleFlicker 2.8s infinite ease-in-out;
}

@keyframes candleFlicker {
  0%,100% {
    text-shadow:
      0 0 4px rgba(255,220,170,.6),
      0 0 10px rgba(255,200,140,.4),
      0 0 18px rgba(255,180,120,.25);
  }
  50% {
    text-shadow:
      0 0 7px rgba(255,230,180,.7),
      0 0 16px rgba(255,200,150,.5),
      0 0 26px rgba(255,170,120,.35);
  }
}

h1 {
  font-size: 42px;
  margin-bottom: 10px;
}

.subtitle {
  font-size: 18px;
  opacity: 0.9;
  font-style: italic;
  margin-bottom: 25px;
}

/* ================= BUTTONS ================= */
button {
  padding: 10px 26px;
  border-radius: 30px;
  font-size: 15px;
  border: 1px solid rgba(255,255,255,0.4);
  background: transparent;
  color: #ecfdf3;
  cursor: pointer;
  transition: all 0.3s ease;
}

button:hover {
  background: rgba(255,255,255,0.15);
  transform: translateY(-2px);
}

#nextBtn {
  margin-bottom: 20px;
}

#next2Btn {
  margin-top: 30px;
  opacity: 0;
  pointer-events: none;
  transition: all 0.6s ease;
}

#next2Btn.show {
  opacity: 1;
  pointer-events: auto;
}

/* ================= TEXT AREA ================= */
#thanksBox {
  margin-top: 30px;
  opacity: 0;
  transform: translateY(20px);
  transition: all 1s ease;
}

#thanksBox.show {
  opacity: 1;
  transform: translateY(0);
}

#typewriter {
  font-size: 18px;
  line-height: 1.9;
  font-style: italic;
  white-space: pre-line;
}

/* ================= RAIN ================= */
.rain {
  position: fixed;
  width: 2px;
  height: 18px;
  background: rgba(200,255,255,0.35);
  top: -20px;
  animation: rainFall linear infinite;
  z-index: 55;
  opacity: 0;
}

body.rainforest-mode .rain {
  opacity: 1;
}


@keyframes rainFall {
  to { transform: translateY(110vh); }
}

/* ================= PETALS ================= */
.petal {
  position: fixed;
  font-size: 18px;
  opacity: 0.7;
  animation: petalFall linear infinite;
  z-index: 3;
}

@keyframes petalFall {
  0% { transform: translateY(-10vh) rotate(0deg); }
  100% { transform: translateY(110vh) rotate(360deg); }
}

/* ================= MOON ================= */
.moon {
  position: fixed;
  top: 40px;
  right: 60px;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff, #e6e6e6 60%, #cfcfcf);
  box-shadow:
    0 0 30px rgba(255,255,255,.4),
    0 0 80px rgba(200,220,255,.25);
  opacity: 0;
  transition: opacity 3s ease;
  animation: moonPulse 6s ease-in-out infinite;
  z-index: 2;
}

body.night .moon {
  opacity: 1;
}

@keyframes moonPulse {
  0%,100% {
    box-shadow:
      0 0 30px rgba(255,255,255,.4),
      0 0 80px rgba(200,220,255,.25);
  }
  50% {
    box-shadow:
      0 0 45px rgba(255,255,255,.7),
      0 0 120px rgba(200,220,255,.45);
  }
}

/* ================= STARS ================= */
.star {
  position: fixed;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0;
  animation: twinkle 3s infinite ease-in-out;
  z-index: 1;
}

body.night .star {
  opacity: 1;
}

@keyframes twinkle {
  0%,100% { opacity: 0.3; }
  50% { opacity: 1; }
}

/* ================= SHOOTING STARS ================= */
.shooting-star {
  position: fixed;
  width: 120px;
  height: 2px;
  background: linear-gradient(90deg, white, rgba(255,255,255,0));
  opacity: 0;
  transform: rotate(-45deg);
  animation: shoot 1.2s ease-out forwards;
  z-index: 2;
}

@keyframes shoot {
  0% {
    opacity: 1;
    transform: translate(0, 0) rotate(-45deg);
  }
  100% {
    opacity: 0;
    transform: translate(-300px, 300px) rotate(-45deg);
  }
}

/* ================= MUSIC BUTTON ================= */
#musicBtn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 30;
  padding: 12px 18px;
  border-radius: 999px;
  border: none;
  background: rgba(255,255,255,0.9);
  font-size: 14px;
  cursor: pointer;
  color: #333;
  box-shadow: 0 6px 15px rgba(0,0,0,0.2);
}

  /* ================= RAINFOREST SCENE ================= */
.rainforest {
  position: fixed;
  inset: 0;
  opacity: 0;
  pointer-events: none;
  transition: opacity 2s ease;
  z-index: 50;

  /* layered jungle look */
  background:
    linear-gradient(to top, rgba(0,0,0,0.3), rgba(0,0,0,0)),
    radial-gradient(circle at 50% 20%, #9be7c4 0%, transparent 45%),
    linear-gradient(to bottom, #1f6f54, #3a9d72, #78cfa4);
}

body.rainforest-mode .rainforest {
  opacity: 1;
}

  
.rainforest {
  position: fixed;
  inset: 0;
  background: linear-gradient(
    to bottom,
    #2e6f4f,
    #4e9f72,
    #7bcfa3
  );
  opacity: 0;
  pointer-events: none;
  transition: opacity 2s ease;
  z-index: 50;
  overflow: hidden;
}

  <div class="trees">
  <div class="tree left"></div>
  <div class="tree right"></div>
</div>


/* activate */
body.rainforest-mode .rainforest {
  opacity: 1;
  pointer-events: auto;
}

/* soft mist */
.forest-overlay {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 30% 20%, rgba(255,255,255,0.25), transparent 40%),
    radial-gradient(circle at 70% 30%, rgba(255,255,255,0.2), transparent 45%);
}

/* rain */
.rainforest::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(
      rgba(255,255,255,0.25) 2px,
      transparent 2px
    );
  background-size: 2px 20px;
  animation: rainforestRain 0.6s linear infinite;
  opacity: 0.25;
}

@keyframes rainforestRain {
  from { background-position: 0 0; }
  to   { background-position: 0 20px; }
}

/* message */
.forest-text {
  position: absolute;
  bottom: 18%;
  width: 100%;
  text-align: center;
  font-size: 26px;
  color: #f1fff4;
  opacity: 0;
  transform: translateY(20px);
  animation: slideInText 2s ease forwards;
  animation-delay: 1.2s;
  text-shadow: 0 2px 10px rgba(0,0,0,0.4);
}

@keyframes slideInText {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* birds */
.bird {
  position: absolute;
  font-size: 38px;
  top: 35%;
  opacity: 0;
  animation: birdAppear 1.2s ease forwards;
}

.bird1 {
  left: 40%;
  animation-delay: 0.8s;
}

.bird2 {
  left: 55%;
  animation-delay: 1.2s;
}

@keyframes birdAppear {
  from {
    transform: translateY(-30px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

  /* Trees */
.trees {
  position: fixed;
  bottom: 0;
  width: 100%;
  height: 45%;
  pointer-events: none;
  z-index: 52;
}

.tree {
  position: absolute;
  bottom: 0;
  width: 280px;
  height: 100%;
  background: linear-gradient(to top, #0f3d2e, #2d6a4f);
  clip-path: polygon(
    50% 0%,
    65% 20%,
    55% 35%,
    75% 55%,
    60% 75%,
    80% 100%,
    20% 100%,
    40% 75%,
    25% 55%,
    45% 35%,
    35% 20%
  );
  opacity: 0.9;
}

.tree.left {
  left: -40px;
}

.tree.right {
  right: -40px;
}


</style>
</head>

<body>
<!-- RAIN FOREST SCENE -->
<div class="rainforest" id="rainforest">
  <div class="forest-overlay"></div>

  <div class="forest-text">
    Thank you for protecting and loving us everyday <br>~ birbs 
  </div>

  <div class="bird bird1">üê¶</div>
  <div class="bird bird2">üê¶</div>
</div>

<div class="moon"></div>

<div class="content">
  <h1 class="glow">for you, princess pihu</h1>
  <div class="subtitle">something gentle, just for you</div>

  <button id="nextBtn">next ‚Üí</button>

  <div id="thanksBox">
    <p id="typewriter"></p>
    <button id="next2Btn">next ‚Üí</button>
  </div>
</div>

<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<button id="musicBtn" onclick="toggleMusic()">‚ñ∂ play music</button>

<script>
const textLines = [
  "Why I chose to continue loving you?",
  "",
  "Because you are not replaceable, princess.",
  "Not because you try to be perfect ‚Äî",
  "but because of who you are.",
  "",
  "You‚Äôre adorable in the way you feel things deeply,",
  "and strong in the way you keep going anyway.",
  "",
  "That‚Äôs why I chose to love you ‚Äî",
  "for your softness,",
  "and for your strength."
];

let lineIndex = 0;
let charIndex = 0;

document.getElementById("nextBtn").addEventListener("click", () => {
  document.body.classList.add("night");
  document.getElementById("thanksBox").classList.add("show");
  document.getElementById("nextBtn").disabled = true;
  typeLine();
});

function typeLine() {
  if (lineIndex >= textLines.length) {
    document.getElementById("next2Btn").addEventListener("click", () => {
  document.body.classList.add("rainforest-mode");
});


  const target = document.getElementById("typewriter");
  const line = textLines[lineIndex];

  if (charIndex < line.length) {
    target.textContent += line.charAt(charIndex);
    charIndex++;
    setTimeout(typeLine, 45);
  } else {
    target.textContent += "\n";
    charIndex = 0;
    lineIndex++;
    setTimeout(typeLine, 500);
  }
}

/* Optional second button */
document.getElementById("next2Btn").addEventListener("click", () => {
  document.body.classList.add("rainforest-mode");
});


/* Music toggle */
function toggleMusic() {
  const audio = document.getElementById("bgm");
  const btn = document.getElementById("musicBtn");

  if (audio.paused) {
    audio.play();
    btn.textContent = "‚è∏ pause";
  } else {
    audio.pause();
    btn.textContent = "‚ñ∂ play music";
  }
}

/* Rain */
for (let i = 0; i < 70; i++) {
  const drop = document.createElement("div");
  drop.className = "rain";
  drop.style.left = Math.random() * 100 + "vw";
  drop.style.animationDuration = 2 + Math.random() * 3 + "s";
  document.body.appendChild(drop);
}

/* Petals */
const petals = ["üå∏", "üçÉ", "üå∫"];
for (let i = 0; i < 15; i++) {
  const petal = document.createElement("div");
  petal.className = "petal";
  petal.textContent = petals[Math.floor(Math.random() * petals.length)];
  petal.style.left = Math.random() * 100 + "vw";
  petal.style.animationDuration = 8 + Math.random() * 10 + "s";
  petal.style.fontSize = 16 + Math.random() * 14 + "px";
  document.body.appendChild(petal);
}

/* Shooting stars */
function spawnShootingStar() {
  if (!document.body.classList.contains("night")) return;

  const star = document.createElement("div");
  star.className = "shooting-star";
  star.style.top = Math.random() * 40 + "vh";
  star.style.left = 60 + Math.random() * 40 + "vw";
  document.body.appendChild(star);

  setTimeout(() => star.remove(), 1200);
}

setInterval(() => {
  if (Math.random() < 0.35) spawnShootingStar();
}, 4000);
</script>

</body>
</html>
