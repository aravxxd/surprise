<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>for you, princess pihu</title>

<style>
/* ================= BASE ================= */
body {
  margin: 0;
  min-height: 100vh;
  font-family: "Georgia", serif;
  background: linear-gradient(to bottom, #2f3e46, #354f52, #52796f, #84a98c);
  overflow-x: hidden;
  color: #ecfdf3;
  display: flex;
  justify-content: center;
}

/* NIGHT OVERLAY */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: linear-gradient(to bottom, #0f172a, #111827, #020617);
  opacity: 0;
  transition: opacity 3s ease;
  pointer-events: none;
  z-index: 0;
}
body.night::before {
  opacity: 1;
}

/* MAIN CONTENT */
.content {
  position: relative;
  z-index: 20;
  max-width: 520px;
  padding: 40px 20px 80px;
  text-align: center;
}

/* TITLE */
.glow {
  font-size: 42px;
  color: #fff7e6;
  text-shadow:
    0 0 6px rgba(255,220,170,.6),
    0 0 14px rgba(255,200,140,.4),
    0 0 24px rgba(255,180,120,.25);
  animation: flicker 3s infinite ease-in-out;
}

@keyframes flicker {
  0%,100% { opacity: 1; }
  50% { opacity: .85; }
}

.subtitle {
  font-style: italic;
  opacity: .9;
  margin-bottom: 25px;
}

/* BUTTONS */
button {
  padding: 10px 26px;
  border-radius: 30px;
  border: 1px solid rgba(255,255,255,.4);
  background: transparent;
  color: #ecfdf3;
  cursor: pointer;
  transition: .3s;
}

button:hover {
  background: rgba(255,255,255,.15);
  transform: translateY(-2px);
}

#next2Btn {
  opacity: 0;
  pointer-events: none;
  margin-top: 30px;
  transition: .6s;
}
#next2Btn.show {
  opacity: 1;
  pointer-events: auto;
}

/* TEXT */
#thanksBox {
  margin-top: 30px;
  opacity: 0;
  transform: translateY(20px);
  transition: 1s;
}
#thanksBox.show {
  opacity: 1;
  transform: translateY(0);
}
#typewriter {
  white-space: pre-line;
  font-size: 18px;
  line-height: 1.9;
  font-style: italic;
}

/* ================= STARS ================= */
.star {
  position: fixed;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0;
  animation: twinkle 3s infinite ease-in-out;
  z-index: 2;
}

body.night .star { opacity: 1; }

@keyframes twinkle {
  0%,100% { opacity: .3; }
  50% { opacity: 1; }
}

/* SHOOTING STARS */
.shooting-star {
  position: fixed;
  width: 120px;
  height: 2px;
  background: linear-gradient(90deg, white, transparent);
  opacity: 0;
  transform: rotate(-45deg);
  z-index: 3;
  animation: shoot 1.2s ease-out forwards;
}

@keyframes shoot {
  0% { opacity: 1; transform: translate(0,0) rotate(-45deg); }
  100% { opacity: 0; transform: translate(-300px,300px) rotate(-45deg); }
}

/* MOON */
.moon {
  position: fixed;
  top: 40px;
  right: 60px;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff, #e6e6e6 60%, #cfcfcf);
  box-shadow:
    0 0 30px rgba(255,255,255,.4),
    0 0 80px rgba(200,220,255,.25);
  opacity: 0;
  animation: moonPulse 6s ease-in-out infinite;
  transition: opacity 3s ease;
  z-index: 2;
}

body.night .moon { opacity: 1; }

@keyframes moonPulse {
  0%,100% {
    box-shadow:
      0 0 30px rgba(255,255,255,.4),
      0 0 80px rgba(200,220,255,.25);
  }
  50% {
    box-shadow:
      0 0 45px rgba(255,255,255,.7),
      0 0 120px rgba(200,220,255,.45);
  }
}

/* GENSHIN SCENE */
#genshinScene {
  position: fixed;
  inset: 0;
  background: linear-gradient(to bottom, #a7c7ff, #e6f1ff, #ffffff);
  opacity: 0;
  pointer-events: none;
  transition: opacity 2s ease;
  z-index: 40;
  overflow: hidden;
}

body.genshin #genshinScene {
  opacity: 1;
  pointer-events: auto;
}

/* soft clouds */
#genshinScene::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 20% 20%, rgba(255,255,255,.6), transparent 40%),
    radial-gradient(circle at 70% 30%, rgba(255,255,255,.5), transparent 45%);
  animation: cloudMove 25s ease-in-out infinite;
}

@keyframes cloudMove {
  0% { transform: translateX(0); }
  50% { transform: translateX(-30px); }
  100% { transform: translateX(0); }
}

/* BRANCH */
.branch {
  position: absolute;
  bottom: 40%;
  left: -10%;
  width: 140%;
  height: 22px;
  background: linear-gradient(to right, #5b3a25, #7b5335);
  border-radius: 30px;
  box-shadow: 0 6px 15px rgba(0,0,0,.25);
  transform: rotate(-2deg);
}

/* BIRD */
.bird {
  position: absolute;
  font-size: 46px;
  left: -120px;
  top: 36%;
  animation: birdFly 3s ease-out forwards;
}

@keyframes birdFly {
  0% { transform: translate(-200px,-80px) scale(.8); opacity: 0; }
  60% { transform: translate(55vw,-20px) scale(1); opacity: 1; }
  100% { transform: translate(62vw,0) scale(1); }
}

/* blink */
.bird.blink {
  animation: blink 4s infinite;
}
@keyframes blink {
  0%,92%,100% { filter: brightness(1); }
  95% { filter: brightness(.3); }
}

/* TEXT */
.genshin-text {
  position: absolute;
  bottom: 18%;
  width: 100%;
  text-align: center;
  font-size: 26px;
  color: #3b4c6b;
  opacity: 0;
  animation: fadeIn 2s ease forwards;
  animation-delay: 3s;
}

@keyframes fadeIn {
  to { opacity: 1; }
}
</style>
</head>

<body>

<div class="content">
  <h1 class="glow">for you, princess pihu</h1>
  <div class="subtitle">something gentle, just for you</div>

  <button id="nextBtn">next ‚Üí</button>

  <div id="thanksBox">
    <p id="typewriter"></p>
    <button id="next2Btn">next ‚Üí</button>
  </div>
</div>

<!-- GENSHIN SCENE -->
<div id="genshinScene">
  <div class="branch"></div>
  <div class="bird">üê¶</div>
  <div class="genshin-text">thank you for protecting us, pihu</div>
</div>

<script>
const textLines = [
  "Why I chose to continue loving you?",
  "",
  "Because you are not replaceable, princess.",
  "Not because you try to be perfect ‚Äî",
  "but because of who you are.",
  "",
  "You‚Äôre adorable in the way you feel things deeply,",
  "and strong in the way you keep going anyway.",
  "",
  "That‚Äôs why I chose to love you ‚Äî",
  "for your softness,",
  "and for your strength."
];

let lineIndex = 0, charIndex = 0;

document.getElementById("nextBtn").onclick = () => {
  document.body.classList.add("night");
  document.getElementById("thanksBox").classList.add("show");
  document.getElementById("nextBtn").disabled = true;
  typeLine();
};

function typeLine() {
  if (lineIndex >= textLines.length) {
    document.getElementById("next2Btn").classList.add("show");
    return;
  }

  const target = document.getElementById("typewriter");
  const line = textLines[lineIndex];

  if (charIndex < line.length) {
    target.textContent += line.charAt(charIndex++);
    setTimeout(typeLine, 45);
  } else {
    target.textContent += "\n";
    charIndex = 0;
    lineIndex++;
    setTimeout(typeLine, 500);
  }
}

/* FINAL TRANSITION */
document.getElementById("next2Btn").onclick = () => {
  document.body.classList.add("genshin");
  setTimeout(() => {
    document.querySelector(".bird").classList.add("blink");
  }, 2500);
};

/* STARS */
for (let i = 0; i < 80; i++) {
  const s = document.createElement("div");
  s.className = "star";
  s.style.left = Math.random() * 100 + "vw";
  s.style.top = Math.random() * 100 + "vh";
  s.style.animationDelay = Math.random() * 3 + "s";
  document.body.appendChild(s);
}

/* SHOOTING STARS */
setInterval(() => {
  if (!document.body.classList.contains("night")) return;
  if (Math.random() < 0.35) {
    const s = document.createElement("div");
    s.className = "shooting-star";
    s.style.top = Math.random() * 40 + "vh";
    s.style.left = 60 + Math.random() * 40 + "vw";
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 1200);
  }
}, 4000);
</script>

</body>
</html>
